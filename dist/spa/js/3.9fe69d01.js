(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{1449:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("q-card",[a("q-card-section",[a("div",{staticClass:"text-center"},[t.streaming?a("video",{ref:"webcam",attrs:{autoplay:"",playsinline:"",muted:"",width:"800",height:"600"},domProps:{muted:!0}}):a("img",{staticClass:"hide",attrs:{id:"image",src:t.imgSrc,width:"800",height:"600"}})])]),a("q-card-section",[a("q-btn",{attrs:{label:"Capture"},on:{click:t.capture}}),a("q-btn",{attrs:{label:"StartCam"},on:{click:t.startWebcam}}),a("q-btn",{attrs:{label:"StopCam"},on:{click:t.stopWebcam}})],1)],1)},i=[],r=(e("d093"),{data(){return{mediaStream:null,imageCapture:null,captured:null,streaming:!1,imgSrc:""}},async mounted(){await this.startWebcam()},async destroyed(){this.stopWebcam()},methods:{async startWebcam(){this.streaming=!0;var t={audio:!1,video:{facingMode:"environment",width:800,height:600,frameRate:3}};try{this.mediaStream=await navigator.mediaDevices.getUserMedia(t);var a=this.$refs.webcam;a.srcObject=this.mediaStream,a.onloadedmetadata=function(t){a.play()};const e=this.mediaStream.getVideoTracks()[0];this.imageCapture=new ImageCapture(e)}catch(e){console.log(e.name+": "+e.message)}},async blobToBase64(t){return new Promise(((a,e)=>{const s=new FileReader;s.onloadend=()=>a(s.result),s.readAsDataURL(t)}))},async capture(){const t=this;try{await t.imageCapture.takePhoto().then((a=>{console.log("Took photo:",a),t.$emit("capture",a),t.blobToBase64(a).then((a=>{t.imgSrc=a,t.stopWebcam()}))}))}catch(a){console.log("takePhoto() error: ",a)}},async stopWebcam(){this.streaming=!1,this.mediaStream.getTracks().forEach((t=>{t.stop()}))}}}),c=r,n=(e("2ae4"),e("2877")),o=e("f09f"),m=e("a370"),d=e("9c40"),l=e("eebe"),h=e.n(l),u=Object(n["a"])(c,s,i,!1,null,"6737460c",null);a["default"]=u.exports;h()(u,"components",{QCard:o["a"],QCardSection:m["a"],QBtn:d["a"]})},"2ae4":function(t,a,e){"use strict";e("f165")},f165:function(t,a,e){}}]);